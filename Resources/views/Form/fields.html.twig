{#
The id on the row and the attribute data-row-id are important. They are used in the js code.
Same thing for the classes :
- result_error
- result_name
- result_filename
- result_preview
#}

{% block jb_file_ajax_row %}
    <div id="{{ id }}_row" class="file-upload">
        {{- form_label(form) -}}
        <div class="alert alert-danger result_error" style="display: none;"></div>
        {{- form_errors(form) -}}
        {{- form_widget(form) -}}
    </div>
{% endblock %}

{% block jb_file_ajax_widget %}
    <span class="fileinput-button">
        <span>{{ 'Import a file'|trans }}</span>
        <input class="jbfileupload" type="file" name="{{ id }}_file" data-url="{{ oneup_uploader_endpoint(endpoint) }}" data-row-id="{{ id }}_row" />
    </span>
    <input type="hidden" {{ block('widget_attributes') }} {% if value is not empty %}value="{{ value }}" {% endif %}/>
    {% if display_link %}
        {% if file_history is not null %}
            <a class="result_preview" href="{{ file_history_url }}"><span class="result_name">{{ file_history.originalName }}</span></a>
        {% else %}
            <a class="result_preview" href="#no-preview"><span class="result_name"></span></a>
        {% endif %}
    {% endif %}
{% endblock %}

{% block jb_image_ajax_widget %}
    {% if file_history is not null %}
        <img class="result_preview" src="{{ file_history_url }}" width="{{ img_width }}" />
    {% else %}
        <img class="result_preview" src="{{ asset(default_image) }}" width="{{ img_width }}" />
    {% endif %}

    {{ block('jb_file_ajax_widget') }}
{% endblock %}